Started GET "/" for ::1 at 2020-06-04 12:26:18 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Library/Ruby/Gems/2.6.0/gems/railties-6.0.3/lib/rails/templates/rails/welcome/index.html.erb (Duration: 13.5ms | Allocations: 479)
Completed 200 OK in 62ms (Views: 50.7ms | ActiveRecord: 0.0ms | Allocations: 2623)


  [1m[35m (162.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (159.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (142.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1009365488459193810)[0m
  [1m[35m (141.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200604154128)
  [1m[35m (138.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (148.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (139.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200604154128"]]
  [1m[35m (139.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePessoas (20200604154653)
  [1m[35m (137.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (150.6ms)[0m  [1m[35mCREATE TABLE "pessoas" ("id" bigserial primary key, "nome" character varying, "nasc" timestamp, "cpf" character varying, "rg" character varying, "telefone" character varying, "CEP" character varying, "cidade" character varying, "estado" character varying, "rua" character varying, "bairro" character varying, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ba2f3a2cc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (144.6ms)[0m  [1m[35mCREATE  INDEX  "index_pessoas_on_user_id" ON "pessoas"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (138.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200604154653"]]
  [1m[35m (141.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSaldoToPessoa (20200604154905)
  [1m[35m (141.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (141.0ms)[0m  [1m[35mALTER TABLE "pessoas" ADD "saldo" integer[0m
  [1m[36mprimary::SchemaMigration Create (139.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200604154905"]]
  [1m[35m (141.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTokens (20200604155104)
  [1m[35m (138.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (148.7ms)[0m  [1m[35mCREATE TABLE "tokens" ("id" bigserial primary key, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ac8a5d0441"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (147.0ms)[0m  [1m[35mCREATE  INDEX  "index_tokens_on_user_id" ON "tokens"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (141.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200604155104"]]
  [1m[35m (141.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (141.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (138.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (140.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-06-04 15:51:21.617625"], ["updated_at", "2020-06-04 15:51:21.617625"]]
  [1m[35m (138.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (489.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1009365488459193810)[0m
  [1m[35m (142.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (144.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1009365488459193810)[0m
  [1m[35m (141.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to RemoveSaldoFromPessoas (20200604160920)
  [1m[35m (137.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (141.4ms)[0m  [1m[35mALTER TABLE "pessoas" DROP COLUMN "saldo"[0m
  [1m[36mprimary::SchemaMigration Create (139.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200604160920"]]
  [1m[35m (140.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (144.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (140.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(1009365488459193810)[0m
  [1m[35m (142.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (142.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1009365488459193810)[0m
  [1m[35m (144.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSaldos (20200604161059)
  [1m[35m (138.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (150.1ms)[0m  [1m[35mCREATE TABLE "saldos" ("id" bigserial primary key, "valor" float, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ed2df94a66"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (146.2ms)[0m  [1m[35mCREATE  INDEX  "index_saldos_on_user_id" ON "saldos"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (169.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200604161059"]]
  [1m[35m (179.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (145.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (153.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(1009365488459193810)[0m
  [1m[35m (143.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users" for ::1 at 2020-06-04 13:12:56 -0300
  [1m[35m (141.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#index as HTML
  [1m[36mUser Load (137.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:8:in `index'
Completed 200 OK in 430ms (Views: 4.5ms | ActiveRecord: 419.6ms | Allocations: 1688)


Started POST "/users" for ::1 at 2020-06-04 13:13:11 -0300
Processing by UsersController#create as */*
  Parameters: {"email"=>"email@email.com", "password"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 130)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/users_controller.rb:49:in `user_params'
app/controllers/users_controller.rb:18:in `create'
Started POST "/users" for ::1 at 2020-06-04 13:13:22 -0300
Processing by UsersController#create as */*
  Parameters: {"user"=>{"email"=>"teste@teste.com", "password"=>"[FILTERED]"}}
  [1m[35m (140.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:20:in `create'
  [1m[36mUser Create (138.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "teste@teste.com"], ["password", "asdsafsdas"], ["created_at", "2020-06-04 16:13:22.466266"], ["updated_at", "2020-06-04 16:13:22.466266"]]
  â†³ app/controllers/users_controller.rb:20:in `create'
  [1m[35m (141.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:20:in `create'
Completed 201 Created in 725ms (Views: 2.1ms | ActiveRecord: 703.2ms | Allocations: 6004)


Started GET "/token" for ::1 at 2020-06-04 13:14:24 -0300
  
ActionController::RoutingError (No route matches [GET] "/token"):
  
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.3) lib/puma/configuration.rb:228:in `call'
puma (4.3.3) lib/puma/server.rb:682:in `handle_request'
puma (4.3.3) lib/puma/server.rb:472:in `process_client'
puma (4.3.3) lib/puma/server.rb:328:in `block in run'
puma (4.3.3) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users" for ::1 at 2020-06-04 13:14:53 -0300
Processing by UsersController#index as HTML
  [1m[36mUser Load (186.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/users_controller.rb:8:in `index'
Completed 200 OK in 196ms (Views: 9.8ms | ActiveRecord: 186.1ms | Allocations: 953)


Started POST "/token" for ::1 at 2020-06-04 13:15:33 -0300
  
ActionController::RoutingError (No route matches [POST] "/token"):
  
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.3) lib/puma/configuration.rb:228:in `call'
puma (4.3.3) lib/puma/server.rb:682:in `handle_request'
puma (4.3.3) lib/puma/server.rb:472:in `process_client'
puma (4.3.3) lib/puma/server.rb:328:in `block in run'
puma (4.3.3) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/token" for ::1 at 2020-06-04 13:16:55 -0300
  
ActionController::RoutingError (No route matches [POST] "/token"):
  
actionpack (6.0.3) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.2) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.2) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
railties (6.0.3) lib/rails/engine.rb:527:in `call'
puma (4.3.3) lib/puma/configuration.rb:228:in `call'
puma (4.3.3) lib/puma/server.rb:682:in `handle_request'
puma (4.3.3) lib/puma/server.rb:472:in `process_client'
puma (4.3.3) lib/puma/server.rb:328:in `block in run'
puma (4.3.3) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/tokens" for ::1 at 2020-06-04 13:18:21 -0300
Processing by TokensController#create as */*
  Parameters: {"token"=>{"user"=>1}}
[31mUnpermitted parameter: :user[0m
Completed 422 Unprocessable Entity in 328ms (Views: 0.2ms | ActiveRecord: 288.8ms | Allocations: 8119)


Started POST "/tokens" for ::1 at 2020-06-04 13:18:54 -0300
Processing by TokensController#create as */*
  Parameters: {"token"=>{"user_id"=>1}}
  [1m[35m (136.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/tokens_controller.rb:26:in `create'
  [1m[36mUser Load (141.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/tokens_controller.rb:26:in `create'
  [1m[36mToken Create (138.9ms)[0m  [1m[32mINSERT INTO "tokens" ("user_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["user_id", 1], ["created_at", "2020-06-04 16:18:55.318236"], ["updated_at", "2020-06-04 16:18:55.318236"]]
  â†³ app/controllers/tokens_controller.rb:26:in `create'
  [1m[35m (140.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/tokens_controller.rb:26:in `create'
Completed 201 Created in 868ms (Views: 1.0ms | ActiveRecord: 698.2ms | Allocations: 6367)


